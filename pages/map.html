<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Wnubi</title>
	<link rel="stylesheet" href="/source/css/bootstrap.min.css">
	<link rel="stylesheet" href="/source/css/bootstrap-datetimepicker.min.css" />
	<link rel="stylesheet" href="/source/css/index.css">
</head>
<body>
	<div class="maingrid">
		<div>
			<div style="width: 200px; float: left;">
				<h4>Worlds</h4>
				<div data-bind="foreach: worlds">
					<div style="margin: 1em;">
						<div style="float: left; cursor: pointer;" data-bind="text: name, click: $root.SelectWorld"></div>
						<div style="float: right; cursor: pointer;" data-bind="click: $root.DeleteWorld">X</div>
						<div style="clear: both;"></div>
					</div>
				</div>
			</div>
			<div style="width: 300px; float: left;">
				<div>
					<div style="float: left; position: relative;">
						<img id="mapimage" />
						<div class="mapCenter"></div>
						<!-- ko foreach: mapParameters.spawnpoints -->
							<div data-bind="attr: { style: $root.MarkerPosition($data, 1) }" class="SpawnpointMarker"></div>
						<!-- /ko -->
					</div>
					<div style="float: left; position: relative;">
						<img id="mapimage2" />
						<div class="mapCenter"></div>
						<!-- ko foreach: mapParameters.spawnpoints -->
							<div data-bind="attr: { style: $root.MarkerPosition($data, 1) }" class="SpawnpointMarker"></div>
						<!-- /ko -->
					</div>
					<div style="float: left; position: relative;">
						<img id="mapimage3" />
						<!-- ko foreach: mapParameters.spawnpoints -->
							<div data-bind="attr: { style: $root.MarkerPosition($data, 1) }" class="SpawnpointMarker"></div>
						<!-- /ko -->
					</div>
				</div>
				<label class="control-label">Rotate</label>
				<form class="form-inline">
					<div class="form-group">
	  					<input type="checkbox" class="form-control" data-bind="checked: autorotate" />
					</div>
					<div class="form-group" style="width: 6em">
						<div class="input-group">
							<span class="input-group-addon">Lng</span>
							<input type="text" class="form-control" style="width: 100%" data-bind="value: longitude" />
						</div>
					</div>
					<div class="form-group" style="width: 6em">
						<div class="input-group">
							<span class="input-group-addon">Lat</span>
							<input type="text" class="form-control" style="width: 100%" data-bind="value: latitude" />
						</div>
					</div>
				</form>
				<div class="form-group">
					<button data-bind="click: AddSpawnPoint" class="btn btn-primary">Add spawnpoint</button>
				</div>
				<div class="form-group">
					<label class="control-label">Name</label>
					<input type="text" class="form-control" data-bind="value: mapParameters.name" />
				</div>
				<div class="form-group">
					<label class="control-label">Seed</label>
					<input type="text" class="form-control" data-bind="value: mapParameters.seed" />
				</div>
				<div class="form-group">
					<label class="control-label">Perlin scale</label>
					<input type="text" class="form-control" data-bind="value: mapParameters.perlinScale" />
				</div>
				<div class="form-group">
					<label class="control-label">Octaves</label>
					<input type="text" class="form-control" data-bind="value: mapParameters.octaves" />
				</div>
				<div class="form-group">
					<label class="control-label">Persistence</label>
					<input type="text" class="form-control" data-bind="value: mapParameters.persistence" />
				</div>
				<div class="form-group">
					<label class="control-label">Lacunarity</label>
					<input type="text" class="form-control" data-bind="value: mapParameters.lacunarity" />
				</div>
				<div class="form-group">
					<button data-bind="click: CreateMap" class="btn btn-primary">Create</button>
					<button data-bind="click: UpdateMap" class="btn btn-primary">Update</button>
				</div>
			</div>
			<div style="width: 200px; float: left;">
				<h4>Spawnpoints</h4>
				<table style="width: 100%">
					<thead>
						<tr>
							<th>Longitude</th>
							<th>Latitude</th>
						</tr>
					</thead>
					<tbody data-bind="foreach: mapParameters.spawnpoints">
						<tr data-bind="click: $root.GoToSpawnpoint">
							<td data-bind="text: coordinates.longitude"></td>
							<td data-bind="text: coordinates.latitude"></td>
							<td data-bind="click: $root.DeleteSpawnpoint">X</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>

	<script type='text/javascript' src='/source/js/lib/knockout-3.4.1.js'></script>
	<script type='text/javascript' src='/source/js/lib/knockout.mapping-latest.js'></script>
	<script type='text/javascript' src='/source/js/lib/jquery-2.1.3.min.js'></script>
	<script type='text/javascript' src='/source/js/lib/bootstrap.min.js'></script>
	<script type='text/javascript' src='/source/js/common.js'></script>
	<script type='text/javascript' src='/source/js/app/mapViewModel.js'></script>
</body>
</html>